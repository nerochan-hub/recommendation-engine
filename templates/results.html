<!DOCTYPE html>
<html>
<head>
  <title>Recommendations</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/style.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="card p-4">
      <h2>Hello {{ name }}, here are your recommendations</h2>

      <!-- 🔍 Search Filter -->
      <div class="mb-4">
        <input type="text" id="searchInput" class="form-control" placeholder="Search internships (skills, location, role)...">
      </div>

      <!-- Internship Cards -->
      <div class="row" id="internshipContainer">
        {% for offer in recommendations %}
        <div class="col-md-6 mb-4 internship-card">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <h5 class="card-title">{{ offer.job_role }}</h5>
              <p class="card-text internship-text">
                <strong>Location:</strong> {{ offer.location }} <br>
                <strong>Skills Required:</strong> {{ offer.skills_required | join(", ") }} <br>
                <strong>Stipend:</strong> ₹{{ offer.stipend }} <br>
                <strong>Period:</strong> {{ offer.period }} <br>
                <strong>Mode:</strong> {{ offer.mode }}
              </p>
              <button class="btn btn-custom apply-btn" data-role="{{ offer.job_role }}">
                Apply Now
              </button>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- Back Button -->
      <div class="text-center mt-3">
        <a href="/" class="btn btn-custom">Back</a>
      </div>
    </div>
  </div>

  <!-- Apply Modal -->
  <div class="modal fade" id="applyModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Apply for Internship</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <p id="applyText"></p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-success">Confirm Apply</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap & Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- 🔍 Filtering + Apply Modal Logic -->
  <script>
    // Live Search Filtering
    document.getElementById("searchInput").addEventListener("keyup", function() {
      const query = this.value.toLowerCase();
      const cards = document.querySelectorAll(".internship-card");

      cards.forEach(card => {
        const text = card.innerText.toLowerCase();
        card.style.display = text.includes(query) ? "block" : "none";
      });
    });

    // Apply Button Modal
   
  </script>
</body>
</html>
<!--<!DOCTYPE html>
<html>
<head>
  <title>Recommendations</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/style.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="card p-4">
      <h2>Hello {{ name }}, here are your recommendations</h2>
      <div class="row">
        {% for offer in recommendations %}
        <div class="col-md-6 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">{{ offer.job_role }}</h5>
              <p class="card-text">
                <strong>Location:</strong> {{ offer.location }} <br>
                <strong>Skills Required:</strong> {{ offer.skills_required }} <br>
                <strong>Stipend:</strong> ₹{{ offer.stipend }} <br>
                <strong>Period:</strong> {{ offer.period }} <br>
                <strong>Mode:</strong> {{ offer.mode }}
              </p>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="text-center mt-3">
        <a href="/" class="btn btn-custom">Back</a>
      </div>
    </div>
  </div>
</body>
</html>-->